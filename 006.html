<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Модуль 6 - Перебирающие методы массива</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/modern-normalize/0.6.0/modern-normalize.min.css"
    />
    <link rel="stylesheet" href="css/main.min.css" />

    <!-- Test Styles -->

    <style>
      .tomato{
        color:tomato;
      }
      .green{
        color:green;
      }
    </style>

    <!-- id Generator -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/uuid/8.3.1/uuid.min.js"
      integrity="sha512-4JH7nC4nSqPixxbhZCLETJ+DUfHa+Ggk90LETm25fi/SitneSvtxkcWAUujvYrgKgvrvwv4NDAsFgdwCS79Dcw=="
      crossorigin="anonymous">
    </script>

  </head>

  <body>
    <!-- Page Header -->

    <header class="page-header">
      <div class="container header">
        <a class="logo-link" href="./index.html">
          <h1 class="title header">JS</h1>
        </a>
      </div>
    </header>

    <!-- Page Main -->

    <main class="page-main">
      <section class="section">
        <div class="container main">
          <h2 class="title main">Sixth module</h2>

          <!-- Test Content -->
          
          <div class="test-content-wrap">

            <!-- Geri - Map -->

            <h3 class="title main">Geri - Map</h3>
            <ul id="user-list"></ul>

          </div>

          <!-- Content List -->

          <ul class="content-list list">
            <li class="content-item text">
              <code class="theme-code">numbers.forEach(function (element, index, array) {})</code>forEach: ничего не возвращает, поэлементно переберает
            </li>

            <li class="content-item text">
              <code class="theme-code">numbers.map(function (element) {})</code>map: возвращает новый массив такой же длины
            </li>

            <li class="content-item text">
              <code class="theme-code">const mappedNumbers = numbers.map(function (element) {return element * 2})</code>map: увеличить значение на 2
            </li>

            <li class="content-item text">
              <code class="theme-code">const playerNames = players.map(function (player) {return player.name})</code>map: получаем массив всех игроков
            </li>

            <li class="content-item text">
              <code class="theme-code">return {...player, points: player.points + player.points * 0.1})</code>map:увеличиваем кол-во поинтов каждого игрока
            </li>

            <li class="content-item text">
              <code class="theme-code">return {...player, timePlayed: player.timePlayed + 50}</code>map: увеличиваем кол-во часов игрока по id
            </li>

            <li class="content-item text">
              <code class="theme-code">onst filteredNumbers = numbers.filter(function (number) {})</code>filter - возвращает новый массив (с отфильтрованными элементами)
            </li>

            <li class="content-item text">
              <code class="theme-code">return player.online</code>filter: получаем массив всех онлайн игроков
            </li>

            <li class="content-item text">
              <code class="theme-code">return !player.online</code>filter: получаем мас всех оффлайн игроков
            </li>

            <li class="content-item text">
              <code class="theme-code">return player.timePlayed > 250</code>filter: получить список игроков с временем болше 250
            </li>

            <li class="content-item text">
              <code class="theme-code">const number = numbers.find(function(n) {})</code>find - возвращает первый элемент удовлетворяющий условию или undefined
            </li>

            <li class="content-item text">
              <code class="theme-code">return player.id === playerIdToFind</code>find: ищет игрока по id
            </li>

            <li class="content-item text">
              <code class="theme-code">const isAllOnline = players.every(function (player) {})</code>every - возвращает true если все элементы мас удовлетворяют условие
            </li>

            <li class="content-item text">
              <code class="theme-code">return player.online</code>every: все ли онлайн
            </li>

            <li class="content-item text">
              <code class="theme-code">return player.timePlayed > 100</code>every: все ли больше 100 часов
            </li>

            <li class="content-item text">
              <code class="theme-code">const isAnyOnline = players.some(function (player) {})</code>some: возвращает true если хотябы один элемент массива удовлетворяет условию
            </li>

            <li class="content-item text">
              <code class="theme-code">return player.timePlayed > 400</code>some: хотя бы один наиграл больше 400 часов
            </li>

            <li class="content-item text">
              <code class="theme-code">const map = function (array, callback) {}</code>map своими руками (что под капотом)
            </li>

            <li class="content-item text">
              <code class="theme-code">Array.prototype.map = function (callback) {}</code>пишем руками Array.prototype.map (Так никогда делать не нужно)
            </li>

            <li class="content-item text">
              <code class="theme-code">const filter = function (array, callback) {}</code>пишем filter своими руками
            </li>

            <li class="content-item text">
              <code class="theme-code">const total = numbers.reduce(function (accumulator, number, index, array) {})</code>reduce: возвращает что угодно
            </li>

            <li class="content-item text">
              <code class="theme-code">return acc + value</code>reduce: считаем общую зарплату
            </li>

            <li class="content-item text">
              <code class="theme-code">return time + player.timePlayed</code>reduce: считаем общее кол-во часов
            </li>

            <li class="content-item text">
              <code class="theme-code">return total + item.price * item.quantity</code>reduce: считаем общую сумму товаров в корзине
            </li>

            <li class="content-item text">
              <code class="theme-code">const tagsStats = allTags.reduce(function (acc, tag) {})</code>reduce: ведем статистику тегов из твитов
            </li>

            <li class="content-item text">
              <code class="theme-code">acc[tag] = acc.hasOwnProperty(tag) ? acc[tag] + 1 : 1</code>reduce: ведем статистику тегов из твитов - грязная версия, мутирует аргумент который придет в acc
            </li>

            <li class="content-item text">
              <code class="theme-code">return { ...acc, [tag]: acc.hasOwnProperty(tag) ? acc[tag] + 1 : 1 }</code>reduce: ведем статистику тегов из твитов - чистая версия, каждый раз создает новый объект
            </li>

            <li class="content-item text">
              <code class="theme-code">Array.prototype.reduce = function (callback, initialValue = this[0]) {}</code>reduce своими руками
            </li>

            <li class="content-item text">
              <code class="theme-code">numbers.sort()</code>sort: сортирует и ИЗМЕНЯЕТ оригинальный массив (сортирует только примитивы)
            </li>

            <li class="content-item text">
              <code class="theme-code">const copy = numbers.slice().sort()</code>sort: как создать копию массива чтобы не сортировать оригинал
            </li>

            <li class="content-item text">
              <code class="theme-code">const copy = [...numbers].sort()</code>sort: вариант - распыляем
            </li>

            <li class="content-item text">
              <code class="theme-code">return prevPlayer.timePlayed - nextPlayer.timePlayed</code>sort: кастомная сортировка сложных типов
            </li>

            <li class="content-item text">
              <code class="theme-code">return nextPlayer.timePlayed - prevPlayer.timePlayed</code>sort: по убыванию значения свойства
            </li>

            <li class="content-item text">
              <code class="theme-code">ns.filter(function(num){}).map(function(num){}).sort(function(a, b){})</code>chaining
            </li>

            <li class="content-item text">
              <code class="theme-code">const object = {num: 2}function getNum(obj) {return obj.num}</code>объект без ДП (как параметр)
            </li>

            <li class="content-item text">
              <code class="theme-code">const { num } = object</code>ДП
            </li>

            <li class="content-item text">
              <code class="theme-code">function getNum({ num }) { return num; }</code>объект c ДП (как параметр)
            </li>

            <li class="content-item text">
              <code class="theme-code">000</code>000
            </li>
          </ul>

          <!-- Geri -->

          <h2 class="title main">Geri</h2>

          <ul class="content-list list">
            <li class="content-item text">
              <code class="theme-code">if (callback(this[i])) {res.push(this[i])}</code>фильтруем числа больше 3 и добавляем их в новый массив
            </li>

            <li class="content-item text">
              <code class="theme-code">numbers.filter(item => item > 3)</code>filter: фильтруем элементы и добавляем в мас те что > 3
            </li>

            <li class="content-item text">
              <code class="theme-code">numbers.forEach((item, index, arr) => sum += item)</code>forEach: сумма всех элементов
              массива
            </li>

            <li class="content-item text">
              <code class="theme-code">numbers.forEach(value => console.log(value))</code>forEach: просто перебираем и выводим элементы массива
            </li>

            <li class="content-item text">
              <code class="theme-code">numbers2.forEach((value, index) =></code>
            </li>

            <li class="content-item text">
              <code
                class="theme-code">console.log(`index: ${index}, value: ${value}`),)</code>forEach:
              просто перебираем и выводим элементы массива
            </li>

            <li class="content-item text">
              <code class="theme-code">const userItems = users.map((value, index, arr) => </code>
            </li>

            <li class="content-item text">
              <code
                class="theme-code">{const className = index % 2 === 0 ? 'tomato' : 'green'</code>map:
            </li>

            <li class="content-item text">
              <code class="theme-code">document.getElementById("user-list")</code>
            </li>

            <li class="content-item text">
              <code class="theme-code">.insertAdjacentHTML("afterbegin", userItems.join(''))</code>добавляем в DOM
            </li>

            <li class="content-item text">
              <code class="theme-code">numbers.map(value => value * 2)</code>map: умножаем каждое число на 2
            </li>

            <li class="content-item text">
              <code class="theme-code">numbers.map(user => user.name)</code>map: делаем из списка обектов список имен возвращаем names
            </li>

            <li class="content-item text">
              <code class="theme-code">numbers.map(({ id, name }) => ({ id, name }))</code>map: создаем новый объект без фамилии
            </li>

            <li class="content-item text">
              <code class="theme-code">const res = arr.map((word) => word.length)</code>map: вернуть новый массив содержащий длины элементов (слов)
            </li>

            <li class="content-item text">
              <code class="theme-code">numbers.find(value => value === 5)</code>find: ищем 5 в массиве
            </li>

            <li class="content-item text">
              <code class="theme-code">numbers.find(user => user.name.toLowerCase()</code>
            </li>

            <li class="content-item text">
              <code class="theme-code">=== userName.toLowerCase() && user.surname === userSurname)</code>find: поиск в объекте (элементе массива)
            </li>

            <li class="content-item text">
              <code class="theme-code">const everyNumberIsLargerTwo1 = numbers1.every(value => value > 2)</code>every: все > 2
            </li>

            <li class="content-item text">
              <code class="theme-code">const someNumberIsLargerTwo1 = numbers1.some(value => value > 2)</code>some: хоть один > 2
            </li>

            <li class="content-item text">
              <code class="theme-code">const textReverse = text.split('').reverse().join('')</code>chaining: создаем массив, поворачиваем, объединяем
            </li>

            <li class="content-item text">
              <code class="theme-code">const { key2 } = obj</code>деструктуризаця объекта const obj = {key1: "abc"}
            </li>

            <li class="content-item text">
              <code class="theme-code">numbers.map(function(obj) {return obj.name})</code>map: измен. обж (удаляем фамилию)
            </li>

            <li class="content-item text">
              <code class="theme-code">numbers.map(function({ name }) {return name})</code>-//- 2. с деструктуризацией
            </li>

            <li class="content-item text">
              <code class="theme-code">numbers.map(function(obj) {return {name: obj.name,surname: obj.surname}})</code>-//- 3. новый обж без id
            </li>

            <li class="content-item text">
              <code class="theme-code">numbers.map(function({ name, surname }) {return {name,surname,}})</code>-//- 4. новый обж без id с деструктуризацией
            </li>

            <li class="content-item text">
              <code class="theme-code">numbers.map(({ name, surname }) => ({ name, surname }))</code>-//- 5. новый обж без id с => и деструктуризацией
            </li>

            <li class="content-item text">
              <code class="theme-code">const acc = numbers.reduce((acc, item) => {return acc += item}, 0)</code>reduce: сумма всех эл. массива
            </li>

            <li class="content-item text">
              <code class="theme-code">const arr = goods.reduce((acc, { price }) => acc + price, 0)</code>reduce: сумма всех эл. мас объектов
            </li>

            <li class="content-item text">
              <code class="theme-code">const min = numbers.reduce((acc, item) => item < acc ? item : acc)</code>reduce: min
            </li>

            <li class="content-item text">
              <code class="theme-code">const max = Math.max(...numbers)</code>пример с Math
            </li>

            <li class="content-item text">
              <code class="theme-code">const res = letters.split("").reduce((acc, letter) =></code>
            </li>

            <li class="content-item text">
              <code class="theme-code">{return {...acc,[letter]: acc[letter] ? acc[letter] + 1 : 1}}, {})</code>reduce: сколько каждой буквы в словах
            </li>

            <li class="content-item text">
              <code class="theme-code">const res = numbers.reduce((acc, item, idx) =></code>
            </li>

            <li class="content-item text">
              <code class="theme-code">{return idx === 0 ? [item] : [...acc, acc[idx - 1] + item];}, [])</code>reduce: сумируем рядом стоящие цифры
            </li>

            <li class="content-item text">
              <code class="theme-code">numbers.sort((a, b) => a - b)</code>sort: правильная сортировка чисел
            </li>

            <li class="content-item text">
              <code class="theme-code">const sortedGoods = goods.sort((a, b) => b.price - a.price)</code>sort: сортировка объекта по цене
            </li>

            <li class="content-item text">
              <code class="theme-code">const sortedGoods = goods.sort((a, b) =></code>
            </li>

            <li class="content-item text">
              <code class="theme-code">{if (a.price < b.price) { return -1; }</code>
            </li>

            <li class="content-item text">
              <code class="theme-code">if (a.price> b.price) {return 1;} return 0})</code>sort: пишем свою сортировку
            </li>

            <li class="content-item text">
              <code class="theme-code">let isOn = true</code>toggle: true
            </li>

            <li class="content-item text">
              <code class="theme-code">isOn = !isOn</code>toggle: false
            </li>
          </ul>

          <!-- Source on GitHub-->

          <a
            class="sourсe-link link"
            href="https://github.com/itstoreall/myjs/blob/master/js/006.js"
            >source</a
          >

        </div>
      </section>
    </main>

    <!-- Page Footer -->

    <footer class="page-footer">
      <div class="container footer">
        <a class="logo-link" href="./index.html">
          <h1 class="title footer">JS</h1>
        </a>
      </div>
    </footer>

    <!-- Scripts -->

    <script src="./js/006.js" type="module"></script>
  </body>
</html>
